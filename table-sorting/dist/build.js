!function(t){function e(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return t[a].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var n=r(1),o=a(n),i=r(3);a(i);new Promise(function(t){window.onload=t}).then(function(){document.querySelector("#btnGroup").addEventListener("click",function(t){results.innerHTML="<p>Загрузка данных с сервера...</p>",o["default"].outputData(t.target.getAttribute("data-type"))})})},function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var r=[],a=!0,n=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(a=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(s){n=!0,o=s}finally{try{!a&&u["return"]&&u["return"]()}finally{if(n)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(2),i=a(o),u=r(3),s=a(u);e["default"]={outputData:function(t){return i["default"].getData(t).then(function(t){i["default"].cacheResponse(t);var e=parseInt(t.length/50);t=t.length>=50?t.slice(0,50):t,results.innerHTML=s["default"].render("table"),tableBody.innerHTML=s["default"].render("tableBody",{list:t}),s["default"].createPagination(e)&&document.querySelector("#pagination").addEventListener("click",function(t){var e=t.target.textContent,r=i["default"].loadPageData(e);s["default"].changeActivePage(e),tableBody.innerHTML=s["default"].render("tableBody",{list:r})}),document.querySelector("#tableHeader").addEventListener("click",function(t){var e=i["default"].sortColumn(t.target.getAttribute("data-sort"),t.target.getAttribute("data-state"));e.length>=50&&(e=i["default"].loadPageData(s["default"].getCurPage())),tableBody.innerHTML=s["default"].render("tableBody",{list:e}),"sort-down"===t.target.className?(t.target.className="sort-up",t.target.setAttribute("data-state","up")):(t.target.className="sort-down",t.target.setAttribute("data-state","down"))}),document.querySelector("#searchInput").addEventListener("keyup",function(t){var e=i["default"].filterList(t.target.value.trim().toLowerCase()),r=n(e,2),a=r[0],o=r[1];s["default"].manageElemDisplay(a,"hide"),s["default"].manageElemDisplay(o)}),document.querySelector("#searchBtn").addEventListener("click",function(t){t.preventDefault(),t.target.parentNode.reset(),document.querySelector("#searchInput").dispatchEvent(new Event("keyup"))}),document.querySelector("#tableBody").addEventListener("click",function(t){var e=t.target.parentNode.children[3].textContent,r=i["default"].retrieveData(e,s["default"].getCurPage()),a=document.querySelector("#personInfo");a.style.display="block",a.innerHTML=s["default"].render("personDataOutput",r)})})["catch"](function(t){alert(t)})},showDownloadStatus:function(t){results.innerHTML=s["default"].displayStatus(t.loaded)}}},function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=a(n);e["default"]={dataPaths:{small:" http://www.filltext.com/?rows=32&id={number|1000}&firstName={firstName}&lastName={lastName}&email={email}&phone={phone|(xxx)xxx-xx-xx}&adress={addressObject}&description={lorem|32}",big:" http://www.filltext.com/?rows=1000&id={number|1000}&firstName={firstName}&delay=3&lastName={lastName}&email={email}&phone={phone|(xxx)xxx-xx-xx}&adress={addressObject}&description={lorem|32}"},dataStorage:[],cacheResponse:function(t){this.dataStorage=t},getData:function(t){var e=this;return new Promise(function(r,a){var n=new XMLHttpRequest;n.open("GET",e.dataPaths[t]),n.responseType="json",n.onprogress=function(t){o["default"].showDownloadStatus(t)},n.onload=function(){200===n.status?r(n.response):a(Error(n.statusText))},n.onerror=function(){a(Error("There was a network error."))},n.send()})},sortById:function(t){return this.dataStorage.sort(function(e,r){var a=e.id-r.id;return"down"===t?a:-a})},sortByLetters:function(t,e){return this.dataStorage.sort(function(r,a){return r[t]>a[t]?"down"===e?1:-1:r[t]<a[t]?"down"===e?-1:1:0})},sortByPhone:function(t){return this.dataStorage.sort(function(e,r){var a=parseInt(e.phone.substr(1,3))-parseInt(r.phone.substr(1,3));return 0===a&&(a=parseInt(e.phone.substr(5,3))-parseInt(r.phone.substr(5,3))),"down"===t?a:-a})},sortColumn:function(t,e){switch(t){case"firstName":case"lastName":case"email":return this.sortByLetters(t,e);case"id":return this.sortById(e);case"phone":return this.sortByPhone(e)}},loadPageData:function(t){return this.dataStorage.slice(50*(t-1),50*(t-1)+50)},filterList:function(t){var e=[],r=[],a=document.querySelector("#tableBody").children,n=!0,o=!1,i=void 0;try{for(var u,s=a[Symbol.iterator]();!(n=(u=s.next()).done);n=!0){var l=u.value,d=l.children,c=Array.prototype.some.call(d,function(e){return e.textContent.toLowerCase().includes(t)});c?r.push(l):e.push(l)}}catch(f){o=!0,i=f}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw i}}return[e,r]},retrieveData:function(t,e){var r=this.dataStorage.length>50?this.loadPageData(e):this.dataStorage,a=!0,n=!1,o=void 0;try{for(var i,u=r[Symbol.iterator]();!(a=(i=u.next()).done);a=!0){var s=i.value;if(s.email===t)return s}}catch(l){n=!0,o=l}finally{try{!a&&u["return"]&&u["return"]()}finally{if(n)throw o}}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={curActivePage:1,render:function(t,e){t+="Template";var r=document.getElementById(t),a=r.innerHTML,n=Handlebars.compile(a);return n(e)},displayStatus:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return"<p>Загрузка данных с сервера...</p><p>Загружено "+t+" байт</p>"},createPagination:function(t){if(this.curActivePage=1,t>1){for(var e='<nav id="pagination"><ul class="pagination"><li class="active"><span>1</span></li>',r=2;r<=t;r++)e+="<li><span>"+r+"</span></li>";return e+="</ul></nav>",results.innerHTML+=e,!0}return!1},changeActivePage:function(t){var e=document.querySelector("#pagination").firstElementChild.children;e[this.curActivePage-1].classList.remove("active"),e[t-1].classList.add("active"),this.curActivePage=t},getCurPage:function(){return this.curActivePage},manageElemDisplay:function(t){var e=arguments.length<=1||void 0===arguments[1]?"show":arguments[1],r=!0,a=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value;u.style.display="show"===e?"table-row":"none"}}catch(s){a=!0,n=s}finally{try{!r&&i["return"]&&i["return"]()}finally{if(a)throw n}}}}}]);